'use client'
import { Content } from 'pdfmake/interfaces'
import createPdf from './createPdf'

export interface datosRecibo {
  nombre: string
  fecha?: string
  marca?: string
  modelo?: string
  placa?: string
  productos: {
    nombre: string
    cantidad: number
    precio: number
  }[]
}

const generateTicket = async (output: any, data: datosRecibo) => {
  const content: Content = [
    {
      text: 'Recibo #' + Math.floor(Math.random() * 1000000),
      alignment: 'right',
      bold: true,
      fontSize: 28,
      margin: [10, 20]
    },
    {
      image:
        'data:image/jpeg;base64,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',
      margin: [10, 10],
      width: 100
    },
    {
      text: 'Autosys',
      bold: true,
      fontSize: 20,
      margin: [20, -25, 10, 10]
    },
    {
      text: 'Fecha: ' + (data.fecha ?? new Date().toLocaleDateString()),
      alignment: 'right',
      fontSize: 18,
      margin: [10, 10]
    },
    {
      text: 'Cliente: ' + data.nombre,
      margin: [10, 0],
      fontSize: 22
    },
    {
      text:
        'Marca: ' +
        data.marca +
        '\nModelo: ' +
        data.modelo +
        '\nPlaca: ' +
        data.placa,
      margin: [10, 10],
      fontSize: 15
    },
    {
      table: {
        widths: ['*', 'auto', 'auto', 'auto'],
        body: [
          [
            {
              text: 'Producto',
              bold: true
            },
            {
              text: 'Cantidad',
              bold: true
            },
            {
              text: 'Precio',
              bold: true
            },
            {
              text: 'Total',
              bold: true
            }
          ],
          ...data.productos.map((producto) => [
            producto.nombre,
            producto.cantidad,
            'Q' + producto.precio,
            'Q' + producto.cantidad * producto.precio
          ]),
          [
            {
              text: 'Total',
              colSpan: 3,
              bold: true
            },
            '',
            '',
            'Q' +
              data.productos.reduce(
                (acc, cur) => acc + cur.cantidad * cur.precio,
                0
              )
          ]
        ]
      },
      fontSize: 20,
      alignment: 'center',
      margin: [10, 10]
    },
    {
      text: 'Gracias por confiar en nosotros',
      alignment: 'center',
      bold: true,
      marginTop: 20
    },
    //footer de la pagina
    {
      text: 'Reconstructora de motores\n79432882',
      alignment: 'center',
      fontSize: 12,
      bold: true,
      absolutePosition: { x: 0, y: 750 }
    }
  ]

  const response = await createPdf({ content }, output)
  return response
}

export default generateTicket
